{"version":3,"sources":["webpack:///src/options/pages/home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA,cADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA;AACA,oBADA;AAEA;AAFA,SAGA;AACA,oBADA;AAEA;AAFA,OAHA,EAMA;AACA,oBADA;AAEA;AAFA,OANA,EASA;AACA,oBADA;AAEA;AAFA,OATA,EAYA;AACA,oBADA;AAEA;AAFA,OAZA,EAeA;AACA,oBADA;AAEA;AAFA,OAfA,EAkBA;AACA,oBADA;AAEA;AAFA,OAlBA,EAqBA;AACA,oBADA;AAEA;AAFA,OArBA,EAwBA;AACA,oBADA;AAEA;AAFA,OAxBA,EA2BA;AACA,oBADA;AAEA;AAFA,OA3BA,EA8BA;AACA,oBADA;AAEA;AAFA,OA9BA,CAFA;AAoCA;AACA,oBArCA;AAsCA;AACA,+BADA;AAEA,gBAFA;AAGA,wBAHA;AAIA,0BAJA;AAKA,uBALA,EAKA;AACA,oDANA;AAOA,sBAPA;AAQA;AACA,2BATA,EASA;AACA,oBAVA,EAUA;AACA,oBAXA,EAWA;AACA,4BAZA,EAYA;AACA,sBAbA,EAaA;AACA,iBAdA,CAcA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA,OAtCA;AAwEA,GA3EA;AA4EA,SA5EA,qBA4EA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAnFA;;AAoFA;AACA,WADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,uBADA,GACA,oFADA;AAAA;AAAA,uBAEA,wBAFA;;AAAA;AAEA,mBAFA;AAGA,oBAHA,GAGA,QAHA;;AAIA;AACA;AACA;AACA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KATA;;AAUA;AACA;AACA,oCADA,EACA;AACA,+BAFA,EAEA;AACA,gCAHA,EAGA;AACA,kCAJA,EAIA;AACA,kCALA,EAKA;AACA,sDANA,EAMA;AACA,sCAPA,CAOA;AAPA;;AAUA,4BACA;AACA;AACA,iDACA;AAFA,OAGA;AACA,KA3BA;AA4BA,cA5BA,wBA4BA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAvCA;AAwCA,YAxCA,sBAwCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,wBADA,GACA,WADA;;AAEA;AACA;AACA;AACA,uBALA,GAKA,yGALA;AAAA;AAAA,uBAMA,oCANA;;AAAA;AAMA,mBANA;;AAOA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAhDA;AAiDA,SAjDA,mBAiDA,CAEA,CAnDA;AAoDA,cApDA,wBAoDA,CAEA,CAtDA;;AAuDA;AACA,sBAxDA,8BAwDA,KAxDA,EAwDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,uBAJA,oHAIA,KAJA;AAAA;AAAA,uBAMA,yBANA;;AAAA;AAMA,mBANA;;;AAQA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAjEA;AApFA,G","file":"options/index.de95759deeb4790bd617.hot-update.js","sourcesContent":["<template>\n  <div>\n    <el-header class=\"home-title\">\n      <p>EKP辅助 - 重新定义填报工时</p>\n    </el-header>\n    <el-main class=\"home-body\">\n      <el-card>\n        <div slot=\"header\" class=\"clearfix\">\n          <span>工时填报</span>\n          <span v-if=\"form.docCreatorName\"> - ({{ form.docCreatorName }})</span>\n          <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"showDialog\">载入历史数据</el-button>\n        </div>\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n          <el-form-item label=\"内容描述\">\n            <el-input type=\"textarea\" v-model=\"form.fdDescription\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"任务类型\">\n            <el-select v-model=\"form.fdTaskId\" placeholder=\"请选择任务类型\" @change=\"fdTaskChangeHandle\">\n              <el-option v-for=\"item in fdTaskList\" :label=\"item.label\" :key=\"item.value\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"工作任务\">\n            <el-select v-model=\"form.fdTypeId\" placeholder=\"请选择工作任务\">\n              <el-option v-for=\"item in fdTypeList\" :label=\"item.hoursTypeFdName\" :key=\"item.value\" :value=\"item.hoursTypeFdId\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"完成日期\">\n            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.fdDate\"></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"完成情况\">\n            <el-slider v-model=\"form.fdSituation\" :step=\"10\" show-stops></el-slider>\n          </el-form-item>\n          <el-form-item label=\"所耗工时\">\n            <!-- <el-input v-model=\"form.fdTime\"></el-input> -->\n            <el-input-number v-model=\"form.fdTime\" :min=\"0\" label=\"所耗工时\"></el-input-number>\n          </el-form-item>\n        </el-form>\n      </el-card>\n      <div class=\"home-body-foot\">\n        <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\n        <el-button type=\"danger\" @click=\"reset\">清空</el-button>\n      </div>\n    </el-main>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'home',\n  data() {\n    return {\n      // 任务类型选项列表\n      fdTaskList: [{\n        label: '非工作',\n        value: '15ea933ab548bd4a59ae3bd4e2fab986'\n      }, {\n        label: '运维类',\n        value: '15ea933d0e70cbb1febf27e4e18b5e32'\n      }, {\n        label: '发布类',\n        value: '15ea9342a3b3b7e1bb6c648419abcb3f'\n      }, {\n        label: '工具类',\n        value: '15ea93443fe6fd779ffa031466584e9e'\n      }, {\n        label: '支持类',\n        value: '15ea934693f62689f3f8a2c409788956'\n      }, {\n        label: '学习类',\n        value: '15ea934863797f0f3d5b957494c9b572'\n      }, {\n        label: '管理类',\n        value: '15ea934af13b578ecf0d3cf4241807d6'\n      }, {\n        label: '运营类',\n        value: '15ea934ce38599434c6bc5f4bd3ae6f3'\n      }, {\n        label: '测试类',\n        value: '15ea934eed59ad37288fafa4bb390934'\n      }, {\n        label: '研发类',\n        value: '15ea9350c5dd0cae3f20d1442f0b4e54'\n      }, {\n        label: '需求类',\n        value: '15ea9351dd3f73fad89a3434944b42e8'\n      }],\n      // 工作任务选项列表\n      fdTypeList: [],\n      form: {\n        method_GET: 'addDialog',\n        fdId: '',\n        docCreatorId: '',\n        docCreatorName: '',\n        fdItemNames: '', // 空着的不知道为何\n        fdDeptId: '15d7dbcdb3d23c8a92bb46741878d46c',\n        fdDeptName: '',\n        // 下面的是表单内容\n        fdDescription: '开发', // 内容\n        fdTaskId: '', // 任务类型\n        fdTypeId: '', // 工作任务\n        fdDate: '2018-06-22', // 日期\n        fdSituation: 0, // 完成情况\n        fdTime: 0 // 工时\n      }\n      // 完整表单:\n      // form: {\n      //   fdId: '16426d63bbed76f52750c7a4d7db417d',\n      //   method_GET: 'addDialog',\n      //   fdDescription: 't',\n      //   fdTaskId: '15ea9350c5dd0cae3f20d1442f0b4e54',\n      //   fdTypeId: '15ea937991f9c77d751d4f645d2a38e8',\n      //   fdDate: '2018-06-22',\n      //   fdSituation: 100,\n      //   fdTime: 1,\n      //   fdItemNames: '',\n      //   docCreateTime: '2018-06-22 15:07',\n      //   docCreatorId: '14dd0f7a58fa5b2e6aaca5845888b114',\n      //   docCreatorName: '陈子元',\n      //   fdDeptId: '15d7dbcdb3d23c8a92bb46741878d46c',\n      //   fdDeptName: '产品研发部_产品研发组',\n      // }\n    }\n  },\n  mounted() {\n    this.getData()\n\n    // dev code\n    const fdTaskId = '15ea9350c5dd0cae3f20d1442f0b4e54'\n    this.form.fdTaskId = fdTaskId\n    this.fdTaskChangeHandle(fdTaskId)\n  },\n  methods: {\n    async getData() {\n      const ajaxURL = 'http://java.landray.com.cn/sys/person/sys_person_zone/sysPersonZone.do?method=info'\n      const res = await this.$http.get(ajaxURL)\n      const data = res.body\n      this.form.docCreatorId = data.fdId\n      this.form.docCreatorName = data.fdName\n      // this.form.fdDeptId = data.fdDeptName\n      this.form.fdDeptName = data.fdDeptName\n    },\n    formatDate: (timeObj, fmt) => {\n      var o = {\n        'M+': timeObj.getMonth() + 1, //月份\n        'd+': timeObj.getDate(), //日\n        'h+': timeObj.getHours(), //小时\n        'm+': timeObj.getMinutes(), //分\n        's+': timeObj.getSeconds(), //秒\n        'q+': Math.floor((timeObj.getMonth() + 3) / 3), //季度\n        'S': timeObj.getMilliseconds() //毫秒\n      }\n\n      if (/(y+)/.test(fmt))\n        fmt = fmt.replace(RegExp.$1, (timeObj.getFullYear() + '').substr(4 - RegExp.$1.length));\n      for (var k in o)\n        if (new RegExp('(' + k + ')').test(fmt))\n          fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n      return fmt;\n    },\n    generateId() {\n      let chars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f']\n\n      let nums = ''\n\n      for (let i = 0; i < 32; i++) {\n        let id = parseInt(Math.random() * 61)\n        nums += chars[id]\n      }\n\n      return nums\n    },\n    async onSubmit() {\n      let postData = this.form\n      postData.fdId = this.generateId()\n      postData.docCreateTime = this.formatDate(new Date, 'yyyy-MM-dd hh:mm')\n      // return console.log(postData)\n      const ajaxURL = 'http://product.landray.com.cn/km/workhours/km_workhours_main/kmWorkhoursMain.do?method=save&s_ajax=true'\n      const res = await this.$http.post(ajaxURL, postData)\n      if (res.body.status) this.$notify.success({ message: '提交成功，奥耶~！' })\n    },\n    reset() {\n\n    },\n    showDialog() {\n\n    },\n    // 改变任务类型\n    async fdTaskChangeHandle(value) {\n      this.fdTypeList = []\n      this.form.fdTypeId = ''\n\n      const ajaxURL = `http://product.landray.com.cn/km/workhours/km_workhours_type/kmWorkhoursType.do?method=getTypeByTask&fdTask=${value}&s_ajax=true`\n\n      const res = await this.$http.get(ajaxURL)\n\n      this.fdTypeList = res.body\n    }\n  }\n}\n</script>\n<style>\n.home-title {\n  text-align: center;\n  font-size: 24px;\n  font-weight: 900;\n  height: 60px;\n  line-height: 60px;\n}\n\n.home-body {\n  width: 60%;\n  margin: 0 auto;\n}\n\n.home-body-foot {\n  margin-top: 10px;\n  text-align: right;\n}\n</style>"],"sourceRoot":""}